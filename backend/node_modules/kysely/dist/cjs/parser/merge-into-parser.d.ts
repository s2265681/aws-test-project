import type { MergeQueryBuilder } from 'kysely/dist/cjs/query-builder/merge-query-builder.js';
import type { MergeResult } from 'kysely/dist/cjs/query-builder/merge-result.js';
import type { ShallowRecord } from 'kysely/dist/cjs/util/type-utils.js';
import type { ExtractTableAlias, SimpleTableReference } from 'kysely/dist/cjs/parser/table-parser.js';
export type MergeInto<DB, TE extends SimpleTableReference<DB>> = TE extends keyof DB & string ? MergeQueryBuilder<DB, ExtractTableAlias<DB, TE>, MergeResult> : TE extends `${infer T} as ${infer A}` ? T extends keyof DB ? MergeQueryBuilder<DB & ShallowRecord<A, DB[T]>, A, MergeResult> : never : never;
